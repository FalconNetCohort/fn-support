(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{1866:function(e,a,t){Promise.resolve().then(t.bind(t,8015))},6463:function(e,a,t){"use strict";var s=t(1169);t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},8015:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var s=t(7437),r=t(2265),n=t(7138),o=t(6463),l=t(5186);function u(){let[e,a]=(0,r.useState)(""),[t,u]=(0,r.useState)(""),[c,i]=(0,r.useState)(""),d=(0,l.v0)(),m=(0,o.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("showEmailVerificationMessage")&&(i("Please check your email and verify your account before logging in."),localStorage.removeItem("showEmailVerificationMessage"))},[]);let f=async a=>{a.preventDefault();try{let a=await (0,l.e5)(d,e,t);if(a.user){if(a.user.emailVerified)await m.push("/");else{i("Please verify your email before logging in.");return}}}catch(e){console.error("Error during authentication:",e.message),i(e.message)}};return(0,s.jsxs)("div",{className:"auth-form",children:[(0,s.jsx)("h1",{className:"text-3xl mb-4",children:"Login"}),c&&(0,s.jsx)("div",{className:"alert alert-danger text-red-500",children:c}),(0,s.jsxs)("form",{onSubmit:f,className:"w-64",children:[(0,s.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>a(e.target.value),className:"mb-2 p-2 border rounded w-64"}),(0,s.jsx)("input",{type:"password",placeholder:"Password",value:t,onChange:e=>u(e.target.value),className:"mb-2 p-2 border rounded w-64"}),(0,s.jsx)("p",{style:{color:"red",textAlign:"center"},className:"mt-0 mb-4 p-2",children:"Do not use your Office 365 Microsoft Password!"}),(0,s.jsx)("button",{type:"submit",className:"auth-btn",children:"Log In"})]}),(0,s.jsx)(n.default,{href:"/forgot-password",className:"text-indigo-500 hover:underline",children:"Forgot password?"})]})}function c(){let[e,a]=(0,r.useState)(""),[t,n]=(0,r.useState)(""),[u,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(null),f=(0,l.v0)(),h=(0,o.useRouter)(),p=async a=>{a.preventDefault();try{if(i(e)){let a=await (0,l.Xb)(f,e,t);a.user&&(await (0,l.w$)(a.user),m("Account created successfully! Please check your email to verify your account."),await (0,l.w7)(f),localStorage.setItem("showEmailVerificationMessage","true"),await h.push("/auth"))}i(e)||(console.error("Use AF Academy Email"),c("Use AF Academy Email"))}catch(e){e instanceof Error&&(console.error("Error during authentication:",e.message),c(e.message))}};return(0,s.jsxs)("div",{className:"auth-form",children:[(0,s.jsx)("h1",{className:"text-2xl mb-4",children:"Sign up for FalconShop"}),u&&(0,s.jsx)("p",{className:"text-red-500",children:u}),(0,s.jsxs)("form",{onSubmit:p,className:"w-64",children:[(0,s.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>a(e.target.value),className:"w-full mb-3 p-2 border rounded shadow-lg"}),(0,s.jsx)("input",{type:"password",placeholder:"Password",value:t,onChange:e=>n(e.target.value),className:"w-full mb-3 p-2 border rounded shadow-lg"}),(0,s.jsx)("p",{style:{color:"red",textAlign:"center"},className:"mt-0 mb-4 p-2",children:"Do not use your Office 365 Microsoft Password!"}),(0,s.jsx)("button",{type:"submit",className:"auth-btn",children:"Create FalconShop account"})]}),d&&(0,s.jsx)("p",{className:"text-green-500",children:d})]})}function i(e){return e.endsWith("@afacademy.af.edu")}function d(){let[e,a]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"auth-global",children:[(0,s.jsx)("div",{children:e?(0,s.jsx)(c,{}):(0,s.jsx)(u,{})}),(0,s.jsx)("button",{onClick:()=>a(!e),className:"mt-4 text-blue-500 hover:underline",children:e?"Already have an account? Log In":"Donâ€™t have an account? Sign Up"})]})}t(177)},177:function(e,a,t){"use strict";t.d(a,{I:function(){return l},db:function(){return u}});var s=t(5236),r=t(9842),n=t(5186);let o=(0,s.ZF)({apiKey:"AIzaSyDkSTrfVNFYiy26b0heGsTrnX6nCZaqVUw",authDomain:"fn-support-e5ac9.firebaseapp.com",projectId:"fn-support-e5ac9",storageBucket:"fn-support-e5ac9.appspot.com",messagingSenderId:"734672940110",appId:"1:734672940110:web:5cf194766053d357a6a71f",measurementId:"G-XVL9ER0BX7"}),l=(0,n.v0)(o),u=(0,r.ad)(o)}},function(e){e.O(0,[533,358,144,896,971,23,744],function(){return e(e.s=1866)}),_N_E=e.O()}]);